---
page_title: "polar Provider"
description: |-
  The Polar provider enables Terraform to manage Polar.sh resources such as organizations, products, meters, benefits, and webhook endpoints.
---

# Polar Provider

The Polar provider enables Terraform to manage [Polar.sh](https://polar.sh) resources such as organizations, products, meters, benefits, and webhook endpoints.

## Example Usage

```terraform
provider "polar" {
  # Reads from POLAR_ACCESS_TOKEN env var by default
  # access_token = "polar_oat_xxx"

  # Required: must be "production" or "sandbox".
  # server = "production"
}
```

## Authentication

The provider requires a Polar organization access token. Each token is scoped to a single organization.

You can set the token in the provider configuration or via the `POLAR_ACCESS_TOKEN` environment variable:

```terraform
provider "polar" {
  access_token = var.polar_access_token
  server       = "production"
}
```

## Resources

The provider includes the following resources, listed in typical order of use:

- [`polar_organization`](resources/organization.md) — Adopt and configure organization settings (profile, subscriptions, notifications, feature flags). Automatically discovers the organization from the access token rather than creating one.
- [`polar_product`](resources/product.md) — Manage products with fixed, custom, free, or metered pricing.
- [`polar_webhook_endpoint`](resources/webhook_endpoint.md) — Configure webhook endpoints for event notifications.
- [`polar_benefit`](resources/benefit.md) — Define benefits (custom, meter credit, license keys, etc.) that can be attached to products.
- [`polar_meter`](resources/meter.md) — Create meters to track usage events for metered billing.

## Data Sources

- [`polar_benefit`](data-sources/benefit.md) — Look up an existing benefit by ID.
- [`polar_meter`](data-sources/meter.md) — Look up an existing meter by ID.

## Multi-Environment Workflow

Polar access tokens are scoped to a single organization, making each provider instance a natural representation of one environment. To manage multiple environments (e.g., staging and production), use [provider aliases](https://developer.hashicorp.com/terraform/language/providers/configuration#alias-multiple-provider-configurations):

```terraform
provider "polar" {
  alias        = "staging"
  access_token = var.staging_token
  server       = "sandbox"
}

provider "polar" {
  alias        = "production"
  access_token = var.production_token
  server       = "production"
}
```

### Shared Modules for Environment Promotion

Define your resources in a shared module, then instantiate it per environment. This ensures all environments share the same configuration by default:

```terraform
# modules/polar-env/main.tf
variable "org_name" {}

resource "polar_organization" "this" {
  name = var.org_name

  subscription_settings = {
    allow_multiple_subscriptions    = true
    allow_customer_updates          = true
    proration_behavior              = "prorate"
    benefit_revocation_grace_period = 7
    prevent_trial_abuse             = true
  }
}

resource "polar_product" "api_access" {
  name               = "API Access"
  recurring_interval = "month"

  prices = [{
    amount_type  = "fixed"
    price_amount = 999
  }]
}
```

```terraform
# root main.tf
module "staging" {
  source    = "./modules/polar-env"
  providers = { polar = polar.staging }
  org_name  = "Staging"
}

module "production" {
  source    = "./modules/polar-env"
  providers = { polar = polar.production }
  org_name  = "Production"
}
```

Promoting changes across environments becomes a CI/CD pipeline concern:

1. Apply changes to the staging module first.
2. Validate in the staging environment.
3. Apply the same configuration to production.

Because both modules share the same source, the configuration is identical by construction — no manual copying required.

<!-- schema generated by tfplugindocs -->
## Schema

### Optional

- `access_token` (String, Sensitive) Polar organization access token. Can also be set with the `POLAR_ACCESS_TOKEN` environment variable.
- `server` (String) The Polar environment to use. Must be `production` or `sandbox`. Can also be set with the `POLAR_SERVER` environment variable.
